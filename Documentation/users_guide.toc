\contentsline {chapter}{\chapternumberline {1}Overview}{5}{chapter.1}%
\contentsline {section}{\numberline {1.1}Description}{5}{section.1.1}%
\contentsline {section}{\numberline {1.2}Dependencies}{5}{section.1.2}%
\contentsline {section}{\numberline {1.3}Platform Independence}{6}{section.1.3}%
\contentsline {section}{\numberline {1.4}User's Guide Organization}{6}{section.1.4}%
\contentsline {part}{\partnumberline {I}Library Introduction}{7}{part.1}%
\contentsline {chapter}{\chapternumberline {2}Getting Started}{9}{chapter.2}%
\contentsline {section}{\numberline {2.1}An Embedded Hello World}{9}{section.2.1}%
\contentsline {chapter}{\chapternumberline {3}Library Architecture}{13}{chapter.3}%
\contentsline {section}{\numberline {3.1}Overview}{13}{section.3.1}%
\contentsline {section}{\numberline {3.2}Core}{13}{section.3.2}%
\contentsline {subsection}{\numberline {3.2.1}Math}{13}{subsection.3.2.1}%
\contentsline {subsubsection}{\numberline {3.2.1.1}Matrix Types}{13}{subsubsection.3.2.1.1}%
\contentsline {subsubsection}{\numberline {3.2.1.2}Matrix Operations}{13}{subsubsection.3.2.1.2}%
\contentsline {subsubsection}{\numberline {3.2.1.3}Matrix Views}{13}{subsubsection.3.2.1.3}%
\contentsline {subsubsection}{\numberline {3.2.1.4}Statistics}{13}{subsubsection.3.2.1.4}%
\contentsline {paragraph}{Rolling Statistics}{13}{subsubsection.3.2.1.4}%
\contentsline {paragraph}{Hypothesis Testing}{14}{subsubsection.3.2.1.4}%
\contentsline {paragraph}{Normal Random Variables}{14}{subsubsection.3.2.1.4}%
\contentsline {subsection}{\numberline {3.2.2}Units}{14}{subsection.3.2.2}%
\contentsline {section}{\numberline {3.3}HAL}{14}{section.3.3}%
\contentsline {subsection}{\numberline {3.3.1}Chandra::Chrono}{14}{subsection.3.3.1}%
\contentsline {subsubsection}{\numberline {3.3.1.1}System Clock}{14}{subsubsection.3.3.1.1}%
\contentsline {subsubsection}{\numberline {3.3.1.2}System Frequencies}{14}{subsubsection.3.3.1.2}%
\contentsline {subsubsection}{\numberline {3.3.1.3}Performance Timers}{14}{subsubsection.3.3.1.3}%
\contentsline {subsection}{\numberline {3.3.2}General Purpose Input/Output}{14}{subsection.3.3.2}%
\contentsline {subsection}{\numberline {3.3.3}Analog Input/Output}{14}{subsection.3.3.3}%
\contentsline {subsection}{\numberline {3.3.4}Communications}{15}{subsection.3.3.4}%
\contentsline {subsubsection}{\numberline {3.3.4.1}$I^{2}C$}{15}{subsubsection.3.3.4.1}%
\contentsline {subsubsection}{\numberline {3.3.4.2}SPI}{15}{subsubsection.3.3.4.2}%
\contentsline {subsubsection}{\numberline {3.3.4.3}USART}{15}{subsubsection.3.3.4.3}%
\contentsline {section}{\numberline {3.4}Interface}{15}{section.3.4}%
\contentsline {subsection}{\numberline {3.4.1}Drivers}{15}{subsection.3.4.1}%
\contentsline {subsubsection}{\numberline {3.4.1.1}Analog Input/Output}{15}{subsubsection.3.4.1.1}%
\contentsline {subsubsection}{\numberline {3.4.1.2}GPS}{15}{subsubsection.3.4.1.2}%
\contentsline {subsubsection}{\numberline {3.4.1.3}Inertia Measurement Sensors}{15}{subsubsection.3.4.1.3}%
\contentsline {subsubsection}{\numberline {3.4.1.4}Servo Drivers}{15}{subsubsection.3.4.1.4}%
\contentsline {subsubsection}{\numberline {3.4.1.5}RF Transceivers}{15}{subsubsection.3.4.1.5}%
\contentsline {section}{\numberline {3.5}Control}{15}{section.3.5}%
\contentsline {subsection}{\numberline {3.5.1}Kalman Filtering}{15}{subsection.3.5.1}%
\contentsline {subsubsection}{\numberline {3.5.1.1}Code Generator}{15}{subsubsection.3.5.1.1}%
\contentsline {subsection}{\numberline {3.5.2}PID}{16}{subsection.3.5.2}%
\contentsline {subsection}{\numberline {3.5.3}Static IMU Calibration}{16}{subsection.3.5.3}%
\contentsline {subsection}{\numberline {3.5.4}Builtin Estimators}{17}{subsection.3.5.4}%
\contentsline {subsubsection}{\numberline {3.5.4.1}Madgwick's AHRS}{17}{subsubsection.3.5.4.1}%
\contentsline {subsubsection}{\numberline {3.5.4.2}Alpha-Beta-(Gamma)-(Eta)}{17}{subsubsection.3.5.4.2}%
\contentsline {section}{\numberline {3.6}Aero}{17}{section.3.6}%
\contentsline {subsection}{\numberline {3.6.1}Atmosphere Calculations}{17}{subsection.3.6.1}%
\contentsline {subsection}{\numberline {3.6.2}Gravity Calculations}{17}{subsection.3.6.2}%
\contentsline {part}{\partnumberline {II}Library API}{19}{part.2}%
\contentsline {chapter}{\chapternumberline {4}Math}{21}{chapter.4}%
\contentsline {section}{\numberline {4.1}Linear Algebra}{21}{section.4.1}%
\contentsline {subsection}{\numberline {4.1.1}Matricies}{21}{subsection.4.1.1}%
\contentsline {subsubsection}{\numberline {4.1.1.1}Types and Constant Members}{21}{subsubsection.4.1.1.1}%
\contentsline {subsubsection}{\numberline {4.1.1.2}Construction}{21}{subsubsection.4.1.1.2}%
\contentsline {subsection}{\numberline {4.1.2}Vectors}{22}{subsection.4.1.2}%
\contentsline {subsubsection}{\numberline {4.1.2.1}Construction}{23}{subsubsection.4.1.2.1}%
\contentsline {section}{\numberline {4.2}Quaternions}{23}{section.4.2}%
\contentsline {section}{\numberline {4.3}Rotations}{23}{section.4.3}%
\contentsline {section}{\numberline {4.4}Math Utilities}{23}{section.4.4}%
\contentsline {section}{\numberline {4.5}Statistics}{23}{section.4.5}%
\contentsline {subsection}{\numberline {4.5.1}Rolling Statistics}{23}{subsection.4.5.1}%
\contentsline {subsection}{\numberline {4.5.2}Hypothesis Testing}{23}{subsection.4.5.2}%
\contentsline {subsection}{\numberline {4.5.3}Normal Random Variables}{23}{subsection.4.5.3}%
\contentsline {subsubsection}{\numberline {4.5.3.1}Types and Constant Members}{23}{subsubsection.4.5.3.1}%
\contentsline {chapter}{\chapternumberline {5}Units}{25}{chapter.5}%
\contentsline {chapter}{\chapternumberline {6}Chrono}{27}{chapter.6}%
\contentsline {section}{\numberline {6.1}System Frequencies}{27}{section.6.1}%
\contentsline {section}{\numberline {6.2}Timestamp Clock}{27}{section.6.2}%
\contentsline {section}{\numberline {6.3}Conversions between std::chrono and chandra::units}{27}{section.6.3}%
\contentsline {chapter}{\chapternumberline {7}General Purpose Input/Output}{29}{chapter.7}%
\contentsline {chapter}{\chapternumberline {8}Analog Input/Output}{31}{chapter.8}%
\contentsline {chapter}{\chapternumberline {9}Communications}{33}{chapter.9}%
\contentsline {section}{\numberline {9.1}$I^{2}C$}{33}{section.9.1}%
\contentsline {section}{\numberline {9.2}SPI}{33}{section.9.2}%
\contentsline {section}{\numberline {9.3}USART}{33}{section.9.3}%
\contentsline {chapter}{\chapternumberline {10}Drivers}{35}{chapter.10}%
\contentsline {section}{\numberline {10.1}External Analog Input/Output Drivers}{35}{section.10.1}%
\contentsline {section}{\numberline {10.2}Temperature Sensor Drivers}{35}{section.10.2}%
\contentsline {section}{\numberline {10.3}Pressure Sensor Drivers}{35}{section.10.3}%
\contentsline {section}{\numberline {10.4}Inertial Motion Sensor Drivers}{35}{section.10.4}%
\contentsline {chapter}{\chapternumberline {11}Control}{37}{chapter.11}%
\contentsline {section}{\numberline {11.1}Recursive Filters}{37}{section.11.1}%
\contentsline {section}{\numberline {11.2}Alpha-Beta-(Gamma)-(Eta) Filtering}{37}{section.11.2}%
\contentsline {section}{\numberline {11.3}Kalman Filtering}{37}{section.11.3}%
\contentsline {section}{\numberline {11.4}PID Control}{37}{section.11.4}%
\contentsline {section}{\numberline {11.5}Static IMU Calibration}{37}{section.11.5}%
\contentsline {chapter}{\chapternumberline {12}Aero}{39}{chapter.12}%
\contentsline {section}{\numberline {12.1}Atmospheric Calculations -- \mintinline {cpp}{class Atmosphere<>}}{39}{section.12.1}%
\contentsline {subsection}{\numberline {12.1.1}Class Template Arguments}{39}{subsection.12.1.1}%
\contentsline {subsection}{\numberline {12.1.2}Type Aliases}{39}{subsection.12.1.2}%
\contentsline {subsection}{\numberline {12.1.3}Constructors}{39}{subsection.12.1.3}%
\contentsline {subsection}{\numberline {12.1.4}Accessors}{39}{subsection.12.1.4}%
\contentsline {section}{\numberline {12.2}Gravity Calculations -- \mintinline {cpp}{class Gravity<>}}{39}{section.12.2}%
\contentsline {subsection}{\numberline {12.2.1}Class Template Arguments}{39}{subsection.12.2.1}%
\contentsline {subsection}{\numberline {12.2.2}Type Aliases}{40}{subsection.12.2.2}%
\contentsline {subsection}{\numberline {12.2.3}Constructors}{40}{subsection.12.2.3}%
\contentsline {subsection}{\numberline {12.2.4}Accessors}{40}{subsection.12.2.4}%
\contentsline {part}{\partnumberline {III}Chandra Cookbook}{41}{part.3}%
\contentsline {chapter}{\chapternumberline {13}Clock and Timing}{43}{chapter.13}%
\contentsline {section}{\numberline {13.1}Performance Timers}{43}{section.13.1}%
\contentsline {subsection}{\numberline {13.1.1}Timing a function}{43}{subsection.13.1.1}%
\contentsline {subsection}{\numberline {13.1.2}Conditional timing of a function}{43}{subsection.13.1.2}%
\contentsline {subsection}{\numberline {13.1.3}Loop frequency measurement}{43}{subsection.13.1.3}%
\contentsline {subsection}{\numberline {13.1.4}Loop frequency statistics}{43}{subsection.13.1.4}%
\contentsline {chapter}{\chapternumberline {14}Digital I/O}{45}{chapter.14}%
\contentsline {section}{\numberline {14.1}Reading a digital pin}{45}{section.14.1}%
\contentsline {section}{\numberline {14.2}Writing to a digital pin}{45}{section.14.2}%
\contentsline {section}{\numberline {14.3}Reading a mechanical switch/button}{45}{section.14.3}%
\contentsline {section}{\numberline {14.4}Manual control of an LED}{45}{section.14.4}%
\contentsline {section}{\numberline {14.5}Automatic PWM of an LED}{45}{section.14.5}%
\contentsline {section}{\numberline {14.6}Automatic PWM of an LED with asynchronous update}{45}{section.14.6}%
\contentsline {section}{\numberline {14.7}Event on a pin falling (rising) edge}{45}{section.14.7}%
\contentsline {section}{\numberline {14.8}Reading a Quadrature Encoder}{45}{section.14.8}%
\contentsline {chapter}{\chapternumberline {15}Analog I/O}{47}{chapter.15}%
\contentsline {section}{\numberline {15.1}Raw reading of a single ADC channel}{47}{section.15.1}%
\contentsline {section}{\numberline {15.2}Scaled reading of a single ADC channel}{47}{section.15.2}%
\contentsline {section}{\numberline {15.3}Reading multiple ADC channels}{47}{section.15.3}%
\contentsline {chapter}{\chapternumberline {16}Math}{49}{chapter.16}%
\contentsline {section}{\numberline {16.1}Conuct a matrix}{49}{section.16.1}%
\contentsline {section}{\numberline {16.2}Solve a system of equations}{49}{section.16.2}%
\contentsline {section}{\numberline {16.3}Invert a matrix}{49}{section.16.3}%
\contentsline {chapter}{\chapternumberline {17}Control}{51}{chapter.17}%
\contentsline {section}{\numberline {17.1}Kalman}{51}{section.17.1}%
\contentsline {section}{\numberline {17.2}PID}{51}{section.17.2}%
\contentsline {section}{\numberline {17.3}IMU Calibration}{51}{section.17.3}%
\contentsline {chapter}{\chapternumberline {18}Aero}{53}{chapter.18}%
\contentsline {section}{\numberline {18.1}Atmosphere}{53}{section.18.1}%
\contentsline {subsection}{\numberline {18.1.1}Pressure and density at a known altitude}{53}{subsection.18.1.1}%
\contentsline {subsection}{\numberline {18.1.2}Altitude from pressure}{53}{subsection.18.1.2}%
\contentsline {section}{\numberline {18.2}Gravity}{53}{section.18.2}%
\contentsline {subsection}{\numberline {18.2.1}Acceleration due to gravity on the Earth's surface}{53}{subsection.18.2.1}%
\contentsline {subsection}{\numberline {18.2.2}Gravitational acceleration above Earth's surface}{53}{subsection.18.2.2}%
\contentsline {part}{\partnumberline {IV}Appendicies}{55}{part.4}%
\contentsline {appendix}{\chapternumberline {A}Setting up MCUXpresso for LPC Series Microcontrollers}{57}{appendix.A}%
\contentsline {section}{\numberline {A.1}Installation}{57}{section.A.1}%
\contentsline {section}{\numberline {A.2}Optimization and Standards}{57}{section.A.2}%
\contentsline {section}{\numberline {A.3}Include Paths}{57}{section.A.3}%
\contentsline {section}{\numberline {A.4}Preprocessor Definitions}{57}{section.A.4}%
\contentsline {appendix}{\chapternumberline {B}Porting Guide}{59}{appendix.B}%
\contentsline {section}{\numberline {B.1}Low-Level Register Access}{59}{section.B.1}%
\contentsline {section}{\numberline {B.2}Clock and Frequencies}{59}{section.B.2}%
\contentsline {section}{\numberline {B.3}GPIO}{59}{section.B.3}%
\contentsline {section}{\numberline {B.4}ADC}{59}{section.B.4}%
\contentsline {section}{\numberline {B.5}Timers}{59}{section.B.5}%
\contentsline {section}{\numberline {B.6}$I^{2}C$}{59}{section.B.6}%
\contentsline {section}{\numberline {B.7}SPI}{59}{section.B.7}%
\contentsline {section}{\numberline {B.8}USART}{59}{section.B.8}%
\contentsline {section}{\numberline {B.9}(Optional) DAC}{59}{section.B.9}%
\contentsline {section}{\numberline {B.10}(Optional) Special Peripherals}{59}{section.B.10}%
\contentsline {appendix}{\chapternumberline {C}Notes on IMU Calibration and Errors}{61}{appendix.C}%
\contentsline {section}{\numberline {C.1}Static Calibration}{61}{section.C.1}%
\contentsline {section}{\numberline {C.2}Dynamic Errors}{61}{section.C.2}%
\contentsline {section}{\numberline {C.3}Modified Calibration Forms}{62}{section.C.3}%
\contentsline {subsection}{\numberline {C.3.1}Three-Parameter (bias only) or Six-Parameter Calibration}{62}{subsection.C.3.1}%
\contentsline {subsection}{\numberline {C.3.2}Hardware Sensor Bias}{63}{subsection.C.3.2}%
\contentsline {section}{\numberline {C.4}Calculation of Calibration Vectors}{63}{section.C.4}%
\contentsline {subsection}{\numberline {C.4.1}Orthogonal Cubic Vectors}{63}{subsection.C.4.1}%
\contentsline {subsection}{\numberline {C.4.2}Orthogonal Cubic/Octagonal Vectors}{64}{subsection.C.4.2}%
\contentsline {subsection}{\numberline {C.4.3}Tetrahedral Vectors}{64}{subsection.C.4.3}%
\contentsline {appendix}{\chapternumberline {D}References}{65}{appendix.D}%
